{"ast":null,"code":"const jsonHeaders={'Content-Type':'application/json'};function resolveUrl(url){if(/^https?:\\/\\//i.test(url))return url;const base=process.env.REACT_APP_API_BASE||'http://localhost:5000';if(url.startsWith('/'))return base+url;return base+'/'+url;}let errorHandler=null;export function setApiErrorHandler(fn){errorHandler=fn;}async function http(method,url,body){try{const res=await fetch(resolveUrl(url),{method,headers:body?jsonHeaders:undefined,body:body?JSON.stringify(body):undefined});if(!res.ok){const text=await res.text();const err=new Error(text||\"HTTP \".concat(res.status));if(errorHandler)errorHandler(err,{url,status:res.status});throw err;}if(errorHandler)errorHandler(null,{url,status:res.status});if(res.status===204)return null;const ct=res.headers.get('content-type')||'';if(ct.includes('application/json')){return res.json();}else{const text=await res.text();const err=new Error(text||'Unexpected non-JSON response');if(errorHandler)errorHandler(err,{url,status:res.status});throw err;}}catch(e){if(errorHandler)errorHandler(e,{url});throw e;}}export const AdminAPI={// Staff\nlistStaff:()=>http('GET','/api/admin/staff'),createStaff:payload=>http('POST','/api/admin/staff',payload),updateStaff:(id,payload)=>http('PUT',\"/api/admin/staff/\".concat(id),payload),deleteStaff:id=>http('DELETE',\"/api/admin/staff/\".concat(id)),// Orders (from hotel endpoints)\nlistOrders:()=>http('GET','/api/hotel/orders'),// Menu (available for future use)\nlistMenu:()=>http('GET','/api/admin/menu'),createMenuItem:payload=>http('POST','/api/admin/menu',payload),updateMenuItem:(id,payload)=>http('PUT',\"/api/admin/menu/\".concat(id),payload),deleteMenuItem:id=>http('DELETE',\"/api/admin/menu/\".concat(id)),// Till\ngetTill:()=>http('GET','/api/admin/till'),updateTill:payload=>http('PUT','/api/admin/till',payload)};export function formatDateTime(iso){try{const d=new Date(iso);return d.toLocaleString();}catch(_unused){return iso;}}export function formatCurrency(amount){const num=typeof amount==='number'&&Number.isFinite(amount)?amount:Number(amount||0);return\"Kshs \".concat(num.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:2}));}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}