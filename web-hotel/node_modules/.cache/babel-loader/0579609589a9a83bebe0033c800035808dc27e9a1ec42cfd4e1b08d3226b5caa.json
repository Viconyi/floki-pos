{"ast":null,"code":"import _objectSpread from\"C:/Floki/web-hotel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{HotelAPI,formatCurrency,formatDateTime}from'../api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function getStatusOptions(order){const isPickup=((order===null||order===void 0?void 0:order.deliveryType)||'').toLowerCase()==='pickup';return isPickup?['pending','preparing','ready','completed']:['pending','preparing','ready','on the way','delivered','cancelled'];}export default function OrdersPage(){var _confirmOrder$_id;const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[confirmOrder,setConfirmOrder]=useState(null);const[confirmMinutes,setConfirmMinutes]=useState('');const sections=['Pending','In Progress','Delivered','Cancelled'];const[selectedSection,setSelectedSection]=useState('Pending');const[expandedId,setExpandedId]=useState(null);async function load(){setLoading(true);setError('');try{const data=await HotelAPI.listOrders();setOrders(data.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt)));}catch(e){setError(e.message||'Failed to load orders');}finally{setLoading(false);}}useEffect(()=>{load();},[]);const grouped=useMemo(()=>{const sorted=[...orders].sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));const pending=sorted.filter(o=>o.status==='pending');const inProgress=sorted.filter(o=>['preparing','ready','on the way'].includes(o.status));const delivered=sorted.filter(o=>o.status==='delivered'||o.status==='completed');const cancelled=sorted.filter(o=>o.status==='cancelled');return{pending,inProgress,delivered,cancelled};},[orders]);async function updateStatus(id,status){try{let staffDisplayName=null;try{staffDisplayName=typeof localStorage!=='undefined'?localStorage.getItem('staffDisplayName'):null;}catch(_unused){}const payload=staffDisplayName?{status,servedByName:staffDisplayName}:{status};await HotelAPI.updateOrder(id,payload);setOrders(prev=>prev.map(o=>o._id===id?_objectSpread(_objectSpread({},o),{},{status}):o));}catch(e){alert(e.message||'Failed to update status');}}function handleStatusChange(order,nextStatus){if(order.status==='pending'){alert('Please confirm the order first and set duration.');return;}if(nextStatus==='delivered'){alert('Delivered is set automatically by the Delivery website.');return;}const requiresConfirm=['ready','on the way'].includes(nextStatus)||nextStatus==='cancelled';if(requiresConfirm){if(!window.confirm(\"Confirm change status to \\\"\".concat(nextStatus,\"\\\"?\")))return;}updateStatus(order._id,nextStatus);}async function handleConfirmSave(){if(!confirmOrder)return;const minutes=confirmMinutes===''?null:Number(confirmMinutes);try{let staffDisplayName=null;try{staffDisplayName=typeof localStorage!=='undefined'?localStorage.getItem('staffDisplayName'):null;}catch(_unused2){}const payload={status:'preparing'};if(minutes!=null&&!Number.isNaN(minutes))payload.etaMinutes=minutes;if(staffDisplayName)payload.servedByName=staffDisplayName;await HotelAPI.updateOrder(confirmOrder._id,payload);setOrders(prev=>prev.map(o=>o._id===confirmOrder._id?_objectSpread(_objectSpread({},o),{},{status:'preparing',etaMinutes:minutes!==null&&minutes!==void 0?minutes:o.etaMinutes,servedByName:staffDisplayName||o.servedByName}):o));setConfirmOrder(null);setConfirmMinutes('');}catch(e){alert(e.message||'Failed to confirm order');}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,alignItems:'center',marginBottom:12},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1a2236'},children:\"Orders\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"(\",orders.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'auto',display:'flex',gap:8},children:/*#__PURE__*/_jsx(\"button\",{onClick:load,style:{padding:'6px 12px',borderRadius:8,background:'#1a2236',color:'#fff',border:'none'},children:\"Refresh\"})})]}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading\\u2026\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'crimson'},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:8,marginBottom:12,flexWrap:'wrap'},children:sections.map(sec=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedSection(sec),style:{padding:'8px 14px',borderRadius:999,border:selectedSection===sec?'none':'1px solid #dfe3ee',background:selectedSection===sec?'#1a2236':'#fff',color:selectedSection===sec?'#fff':'#1a2236',fontWeight:600},children:sec},sec))}),selectedSection==='Pending'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'8px 0',color:'#1a2236'},children:[\"Pending \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"(\",grouped.pending.length,\")\"]})]}),grouped.pending.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:\"No pending orders.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr',gap:12},children:grouped.pending.map(order=>{var _order$_id,_order$items;return/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #eef0f6',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",(_order$_id=order._id)===null||_order$_id===void 0?void 0:_order$_id.slice(-6)]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"\\u2022 \",formatDateTime(order.createdAt)]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'auto',fontWeight:700},children:formatCurrency(order.total||0)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,color:'#2a2f43'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[order.clientName||order.clientEmail||'Client',\" \\u2014 \",order.clientPhone||'N/A']}),order.servedByName&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#2a2f43'},children:[\"Served by: \",/*#__PURE__*/_jsx(\"strong\",{children:order.servedByName})]}),order.clientEmail&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.clientEmail}),order.deliveryAddress&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.deliveryAddress}),(()=>{const items=Array.isArray(order.items)?order.items:[];const ut=Array.from(new Set(items.flatMap(it=>Array.isArray(it.utensils)?it.utensils:[])));const cond=Array.from(new Set(items.flatMap(it=>Array.isArray(it.condiments)?it.condiments:[])));const packaging=items.filter(it=>{var _it$menuItem;return(((_it$menuItem=it.menuItem)===null||_it$menuItem===void 0?void 0:_it$menuItem.category)||it.category)==='Packaging';}).map(it=>{var _it$menuItem2;return((_it$menuItem2=it.menuItem)===null||_it$menuItem2===void 0?void 0:_it$menuItem2.name)||it.name;}).filter(Boolean);const notes=items.map(it=>it.notes).filter(Boolean);const dnotes=items.map(it=>it.deliveryNotes).filter(Boolean);return/*#__PURE__*/_jsxs(_Fragment,{children:[ut.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Utilities: \",ut.join(', ')]}),cond.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Condiments: \",cond.join(', ')]}),packaging.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Packaging: \",packaging.join(', ')]}),notes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Notes: \",notes.join(' | ')]}),dnotes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Delivery Instructions: \",dnotes.join(' | ')]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,display:'flex',gap:12,alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'#6a708a'},children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{value:order.status,disabled:true,style:{padding:'6px 10px',borderRadius:8,border:'1px solid #e1e4ee'},children:getStatusOptions(order).map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _order$etaMinutes;setConfirmOrder(order);setConfirmMinutes(String((_order$etaMinutes=order.etaMinutes)!==null&&_order$etaMinutes!==void 0?_order$etaMinutes:''));},style:{padding:'6px 12px',borderRadius:8,background:'#ffb300',color:'#1a2236',border:'none'},children:\"Confirm + Set Duration\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpandedId(expandedId===order._id?null:order._id),style:{padding:'6px 12px',borderRadius:8,border:'1px solid #e1e4ee',background:'#fff'},children:expandedId===order._id?'Hide Details':'View Details'}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#6a708a'},children:[((_order$items=order.items)===null||_order$items===void 0?void 0:_order$items.length)||0,\" items\"]})]}),expandedId===order._id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,background:'#fafbfe',border:'1px solid #eef0f6',borderRadius:10,padding:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,marginBottom:8,color:'#1a2236'},children:\"Items\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0,margin:0},children:(order.items||[]).map((it,i)=>{var _it$menuItem3,_it$menuItem4;const name=((_it$menuItem3=it.menuItem)===null||_it$menuItem3===void 0?void 0:_it$menuItem3.name)||it.name||'Item';const qty=it.quantity||it.qty||1;const price=(_it$menuItem4=it.menuItem)===null||_it$menuItem4===void 0?void 0:_it$menuItem4.price;const total=price!=null?price*qty:it.total!=null?it.total:null;return/*#__PURE__*/_jsx(\"li\",{style:{display:'flex',alignItems:'center',marginBottom:10,background:'#fff',borderRadius:10,boxShadow:'0 1px 6px #0001',padding:'8px 12px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#1a2236'},children:name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#555'},children:[\"Qty: \",qty]}),total!=null&&/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#ffb300'},children:formatCurrency(total)}),it.utensils&&it.utensils.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Utensils: \",it.utensils.join(', ')]}),it.condiments&&it.condiments.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Condiments: \",it.condiments.join(', ')]}),it.notes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Notes: \",it.notes]}),it.deliveryNotes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Delivery Instructions: \",it.deliveryNotes]})]})},i);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:16,marginTop:8,color:'#2a2f43',flexWrap:'wrap'},children:[order.paymentStatus&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Payment: \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb300',fontWeight:600},children:order.paymentStatus})]}),order.etaMinutes!=null&&/*#__PURE__*/_jsxs(\"div\",{children:[\"ETA: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ffb300',fontWeight:600},children:[order.etaMinutes,\" min\"]})]})]})]})]},order._id);})})]}),selectedSection==='In Progress'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'8px 0',color:'#1a2236'},children:[\"In Progress \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"(\",grouped.inProgress.length,\")\"]})]}),grouped.inProgress.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:\"No in-progress orders.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr',gap:12},children:grouped.inProgress.map(order=>{var _order$_id2,_order$items2;return/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #eef0f6',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",(_order$_id2=order._id)===null||_order$_id2===void 0?void 0:_order$_id2.slice(-6)]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"\\u2022 \",formatDateTime(order.createdAt)]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'auto',fontWeight:700},children:formatCurrency(order.total||0)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,color:'#2a2f43'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[order.clientName||order.clientEmail||'Client',\" \\u2014 \",order.clientPhone||'N/A']}),order.servedByName&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#2a2f43'},children:[\"Served by: \",/*#__PURE__*/_jsx(\"strong\",{children:order.servedByName})]}),order.clientEmail&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.clientEmail}),order.deliveryAddress&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.deliveryAddress}),(()=>{const items=Array.isArray(order.items)?order.items:[];const ut=Array.from(new Set(items.flatMap(it=>Array.isArray(it.utensils)?it.utensils:[])));const cond=Array.from(new Set(items.flatMap(it=>Array.isArray(it.condiments)?it.condiments:[])));const packaging=items.filter(it=>{var _it$menuItem5;return(((_it$menuItem5=it.menuItem)===null||_it$menuItem5===void 0?void 0:_it$menuItem5.category)||it.category)==='Packaging';}).map(it=>{var _it$menuItem6;return((_it$menuItem6=it.menuItem)===null||_it$menuItem6===void 0?void 0:_it$menuItem6.name)||it.name;}).filter(Boolean);const notes=items.map(it=>it.notes).filter(Boolean);const dnotes=items.map(it=>it.deliveryNotes).filter(Boolean);return/*#__PURE__*/_jsxs(_Fragment,{children:[ut.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Utilities: \",ut.join(', ')]}),cond.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Condiments: \",cond.join(', ')]}),packaging.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Packaging: \",packaging.join(', ')]}),notes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Notes: \",notes.join(' | ')]}),dnotes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Delivery Instructions: \",dnotes.join(' | ')]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,display:'flex',gap:12,alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'#6a708a'},children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{value:order.status,onChange:e=>handleStatusChange(order,e.target.value),style:{padding:'6px 10px',borderRadius:8,border:'1px solid #e1e4ee'},children:getStatusOptions(order).map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,disabled:s==='delivered',children:s},s))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpandedId(expandedId===order._id?null:order._id),style:{padding:'6px 12px',borderRadius:8,border:'1px solid #e1e4ee',background:'#fff'},children:expandedId===order._id?'Hide Details':'View Details'}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#6a708a'},children:[((_order$items2=order.items)===null||_order$items2===void 0?void 0:_order$items2.length)||0,\" items\"]})]}),expandedId===order._id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,background:'#fafbfe',border:'1px solid #eef0f6',borderRadius:10,padding:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,marginBottom:8,color:'#1a2236'},children:\"Items\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0,margin:0},children:(order.items||[]).map((it,i)=>{var _it$menuItem7,_it$menuItem8;const name=((_it$menuItem7=it.menuItem)===null||_it$menuItem7===void 0?void 0:_it$menuItem7.name)||it.name||'Item';const qty=it.quantity||it.qty||1;const price=(_it$menuItem8=it.menuItem)===null||_it$menuItem8===void 0?void 0:_it$menuItem8.price;const total=price!=null?price*qty:it.total!=null?it.total:null;return/*#__PURE__*/_jsx(\"li\",{style:{display:'flex',alignItems:'center',marginBottom:10,background:'#fff',borderRadius:10,boxShadow:'0 1px 6px #0001',padding:'8px 12px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#1a2236'},children:name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#555'},children:[\"Qty: \",qty]}),total!=null&&/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#ffb300'},children:formatCurrency(total)}),it.utensils&&it.utensils.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Utensils: \",it.utensils.join(', ')]}),it.condiments&&it.condiments.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Condiments: \",it.condiments.join(', ')]}),it.notes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Notes: \",it.notes]}),it.deliveryNotes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Delivery Instructions: \",it.deliveryNotes]})]})},i);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:16,marginTop:8,color:'#2a2f43',flexWrap:'wrap'},children:[order.paymentStatus&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Payment: \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb300',fontWeight:600},children:order.paymentStatus})]}),order.etaMinutes!=null&&/*#__PURE__*/_jsxs(\"div\",{children:[\"ETA: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ffb300',fontWeight:600},children:[order.etaMinutes,\" min\"]})]})]})]})]},order._id);})})]}),selectedSection==='Delivered'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'8px 0',color:'#1a2236'},children:[\"Delivered \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"(\",grouped.delivered.length,\")\"]})]}),grouped.delivered.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:\"No delivered orders.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr',gap:12},children:grouped.delivered.map(order=>{var _order$_id3,_order$items3;return/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #eef0f6',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",(_order$_id3=order._id)===null||_order$_id3===void 0?void 0:_order$_id3.slice(-6)]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"\\u2022 \",formatDateTime(order.createdAt)]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'auto',fontWeight:700},children:formatCurrency(order.total||0)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,color:'#2a2f43'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[order.clientName||order.clientEmail||'Client',\" \\u2014 \",order.clientPhone||'N/A']}),order.servedByName&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#2a2f43'},children:[\"Served by: \",/*#__PURE__*/_jsx(\"strong\",{children:order.servedByName})]}),order.clientEmail&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.clientEmail}),order.deliveryAddress&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.deliveryAddress}),(()=>{const items=Array.isArray(order.items)?order.items:[];const ut=Array.from(new Set(items.flatMap(it=>Array.isArray(it.utensils)?it.utensils:[])));const cond=Array.from(new Set(items.flatMap(it=>Array.isArray(it.condiments)?it.condiments:[])));const packaging=items.filter(it=>{var _it$menuItem9;return(((_it$menuItem9=it.menuItem)===null||_it$menuItem9===void 0?void 0:_it$menuItem9.category)||it.category)==='Packaging';}).map(it=>{var _it$menuItem0;return((_it$menuItem0=it.menuItem)===null||_it$menuItem0===void 0?void 0:_it$menuItem0.name)||it.name;}).filter(Boolean);const notes=items.map(it=>it.notes).filter(Boolean);const dnotes=items.map(it=>it.deliveryNotes).filter(Boolean);return/*#__PURE__*/_jsxs(_Fragment,{children:[ut.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Utilities: \",ut.join(', ')]}),cond.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Condiments: \",cond.join(', ')]}),packaging.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Packaging: \",packaging.join(', ')]}),notes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Notes: \",notes.join(' | ')]}),dnotes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Delivery Instructions: \",dnotes.join(' | ')]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,display:'flex',gap:12,alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'#6a708a'},children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{value:order.status,disabled:true,style:{padding:'6px 10px',borderRadius:8,border:'1px solid #e1e4ee'},children:getStatusOptions(order).map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpandedId(expandedId===order._id?null:order._id),style:{padding:'6px 12px',borderRadius:8,border:'1px solid #e1e4ee',background:'#fff'},children:expandedId===order._id?'Hide Details':'View Details'}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#6a708a'},children:[((_order$items3=order.items)===null||_order$items3===void 0?void 0:_order$items3.length)||0,\" items\"]})]}),expandedId===order._id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,background:'#fafbfe',border:'1px solid #eef0f6',borderRadius:10,padding:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,marginBottom:8,color:'#1a2236'},children:\"Items\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0,margin:0},children:(order.items||[]).map((it,i)=>{var _it$menuItem1,_it$menuItem10;const name=((_it$menuItem1=it.menuItem)===null||_it$menuItem1===void 0?void 0:_it$menuItem1.name)||it.name||'Item';const qty=it.quantity||it.qty||1;const price=(_it$menuItem10=it.menuItem)===null||_it$menuItem10===void 0?void 0:_it$menuItem10.price;const total=price!=null?price*qty:it.total!=null?it.total:null;return/*#__PURE__*/_jsx(\"li\",{style:{display:'flex',alignItems:'center',marginBottom:10,background:'#fff',borderRadius:10,boxShadow:'0 1px 6px #0001',padding:'8px 12px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#1a2236'},children:name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#555'},children:[\"Qty: \",qty]}),total!=null&&/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#ffb300'},children:formatCurrency(total)}),it.utensils&&it.utensils.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Utensils: \",it.utensils.join(', ')]}),it.condiments&&it.condiments.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Condiments: \",it.condiments.join(', ')]}),it.notes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Notes: \",it.notes]}),it.deliveryNotes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Delivery Instructions: \",it.deliveryNotes]})]})},i);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:16,marginTop:8,color:'#2a2f43',flexWrap:'wrap'},children:[order.paymentStatus&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Payment: \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb300',fontWeight:600},children:order.paymentStatus})]}),order.etaMinutes!=null&&/*#__PURE__*/_jsxs(\"div\",{children:[\"ETA: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ffb300',fontWeight:600},children:[order.etaMinutes,\" min\"]})]})]})]})]},order._id);})})]}),selectedSection==='Cancelled'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'8px 0',color:'#1a2236'},children:[\"Cancelled \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"(\",grouped.cancelled.length,\")\"]})]}),grouped.cancelled.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:\"No cancelled orders.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr',gap:12},children:grouped.cancelled.map(order=>{var _order$_id4,_order$items4;return/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #eef0f6',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",(_order$_id4=order._id)===null||_order$_id4===void 0?void 0:_order$_id4.slice(-6)]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8a8fa3'},children:[\"\\u2022 \",formatDateTime(order.createdAt)]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'auto',fontWeight:700},children:formatCurrency(order.total||0)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,color:'#2a2f43'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[order.clientName||order.clientEmail||'Client',\" \\u2014 \",order.clientPhone||'N/A']}),order.servedByName&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#2a2f43'},children:[\"Served by: \",/*#__PURE__*/_jsx(\"strong\",{children:order.servedByName})]}),order.clientEmail&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.clientEmail}),order.deliveryAddress&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#6a708a'},children:order.deliveryAddress}),(()=>{const items=Array.isArray(order.items)?order.items:[];const ut=Array.from(new Set(items.flatMap(it=>Array.isArray(it.utensils)?it.utensils:[])));const cond=Array.from(new Set(items.flatMap(it=>Array.isArray(it.condiments)?it.condiments:[])));const packaging=items.filter(it=>{var _it$menuItem11;return(((_it$menuItem11=it.menuItem)===null||_it$menuItem11===void 0?void 0:_it$menuItem11.category)||it.category)==='Packaging';}).map(it=>{var _it$menuItem12;return((_it$menuItem12=it.menuItem)===null||_it$menuItem12===void 0?void 0:_it$menuItem12.name)||it.name;}).filter(Boolean);const notes=items.map(it=>it.notes).filter(Boolean);const dnotes=items.map(it=>it.deliveryNotes).filter(Boolean);return/*#__PURE__*/_jsxs(_Fragment,{children:[ut.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Utilities: \",ut.join(', ')]}),cond.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Condiments: \",cond.join(', ')]}),packaging.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Packaging: \",packaging.join(', ')]}),notes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Notes: \",notes.join(' | ')]}),dnotes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a'},children:[\"Delivery Instructions: \",dnotes.join(' | ')]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8,display:'flex',gap:12,alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'#6a708a'},children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{value:order.status,disabled:true,style:{padding:'6px 10px',borderRadius:8,border:'1px solid #e1e4ee'},children:getStatusOptions(order).map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpandedId(expandedId===order._id?null:order._id),style:{padding:'6px 12px',borderRadius:8,border:'1px solid #e1e4ee',background:'#fff'},children:expandedId===order._id?'Hide Details':'View Details'}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#6a708a'},children:[((_order$items4=order.items)===null||_order$items4===void 0?void 0:_order$items4.length)||0,\" items\"]})]}),expandedId===order._id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,background:'#fafbfe',border:'1px solid #eef0f6',borderRadius:10,padding:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,marginBottom:8,color:'#1a2236'},children:\"Items\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0,margin:0},children:(order.items||[]).map((it,i)=>{var _it$menuItem13,_it$menuItem14;const name=((_it$menuItem13=it.menuItem)===null||_it$menuItem13===void 0?void 0:_it$menuItem13.name)||it.name||'Item';const qty=it.quantity||it.qty||1;const price=(_it$menuItem14=it.menuItem)===null||_it$menuItem14===void 0?void 0:_it$menuItem14.price;const total=price!=null?price*qty:it.total!=null?it.total:null;return/*#__PURE__*/_jsx(\"li\",{style:{display:'flex',alignItems:'center',marginBottom:10,background:'#fff',borderRadius:10,boxShadow:'0 1px 6px #0001',padding:'8px 12px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#1a2236'},children:name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#555'},children:[\"Qty: \",qty]}),total!=null&&/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#ffb300'},children:formatCurrency(total)}),it.utensils&&it.utensils.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Utensils: \",it.utensils.join(', ')]}),it.condiments&&it.condiments.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Condiments: \",it.condiments.join(', ')]}),it.notes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Notes: \",it.notes]}),it.deliveryNotes&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6a708a',fontSize:13},children:[\"Delivery Instructions: \",it.deliveryNotes]})]})},i);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:16,marginTop:8,color:'#2a2f43',flexWrap:'wrap'},children:[order.paymentStatus&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Payment: \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffb300',fontWeight:600},children:order.paymentStatus})]}),order.etaMinutes!=null&&/*#__PURE__*/_jsxs(\"div\",{children:[\"ETA: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ffb300',fontWeight:600},children:[order.etaMinutes,\" min\"]})]})]})]})]},order._id);})})]}),confirmOrder&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,border:'1px solid #ffe6b3',background:'#fff8e6',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:700,marginBottom:8},children:[\"Confirm Order #\",(_confirmOrder$_id=confirmOrder._id)===null||_confirmOrder$_id===void 0?void 0:_confirmOrder$_id.slice(-6)]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:10},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:12,color:'#6a708a'},children:\"Preparation Duration (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"1\",value:confirmMinutes,onChange:e=>setConfirmMinutes(e.target.value),style:{width:'100%',padding:8,borderRadius:8,border:'1px solid #e1e4ee'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setConfirmOrder(null);setConfirmMinutes('');},style:{padding:'6px 12px',borderRadius:8,border:'1px solid #dfe3ee',background:'#fff'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmSave,style:{padding:'6px 12px',borderRadius:8,border:'none',background:'#1a2236',color:'#fff'},children:\"Confirm\"})]})]})]})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","HotelAPI","formatCurrency","formatDateTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getStatusOptions","order","isPickup","deliveryType","toLowerCase","OrdersPage","_confirmOrder$_id","orders","setOrders","loading","setLoading","error","setError","confirmOrder","setConfirmOrder","confirmMinutes","setConfirmMinutes","sections","selectedSection","setSelectedSection","expandedId","setExpandedId","load","data","listOrders","sort","a","b","Date","createdAt","e","message","grouped","sorted","pending","filter","o","status","inProgress","includes","delivered","cancelled","updateStatus","id","staffDisplayName","localStorage","getItem","_unused","payload","servedByName","updateOrder","prev","map","_id","_objectSpread","alert","handleStatusChange","nextStatus","requiresConfirm","window","confirm","concat","handleConfirmSave","minutes","Number","_unused2","isNaN","etaMinutes","children","style","display","gap","alignItems","marginBottom","margin","color","length","marginLeft","onClick","padding","borderRadius","background","border","flexWrap","sec","fontWeight","marginTop","gridTemplateColumns","_order$_id","_order$items","slice","total","clientName","clientEmail","clientPhone","deliveryAddress","items","Array","isArray","ut","from","Set","flatMap","it","utensils","cond","condiments","packaging","_it$menuItem","menuItem","category","_it$menuItem2","name","Boolean","notes","dnotes","deliveryNotes","join","value","disabled","s","_order$etaMinutes","String","listStyle","i","_it$menuItem3","_it$menuItem4","qty","quantity","price","boxShadow","flex","fontSize","paymentStatus","_order$_id2","_order$items2","_it$menuItem5","_it$menuItem6","onChange","target","_it$menuItem7","_it$menuItem8","_order$_id3","_order$items3","_it$menuItem9","_it$menuItem0","_it$menuItem1","_it$menuItem10","_order$_id4","_order$items4","_it$menuItem11","_it$menuItem12","_it$menuItem13","_it$menuItem14","type","min","step","width","justifyContent"],"sources":["C:/Floki/web-hotel/src/pages/OrdersPage.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { HotelAPI, formatCurrency, formatDateTime } from '../api';\r\n\r\nfunction getStatusOptions(order) {\r\n  const isPickup = (order?.deliveryType || '').toLowerCase() === 'pickup';\r\n  return isPickup\r\n    ? ['pending', 'preparing', 'ready', 'completed']\r\n    : ['pending', 'preparing', 'ready', 'on the way', 'delivered', 'cancelled'];\r\n}\r\n\r\nexport default function OrdersPage() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [confirmOrder, setConfirmOrder] = useState(null);\r\n  const [confirmMinutes, setConfirmMinutes] = useState('');\r\n  const sections = ['Pending', 'In Progress', 'Delivered', 'Cancelled'];\r\n  const [selectedSection, setSelectedSection] = useState('Pending');\r\n  const [expandedId, setExpandedId] = useState(null);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const data = await HotelAPI.listOrders();\r\n      setOrders(data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)));\r\n    } catch (e) {\r\n      setError(e.message || 'Failed to load orders');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  const grouped = useMemo(() => {\r\n    const sorted = [...orders].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n    const pending = sorted.filter(o => o.status === 'pending');\r\n    const inProgress = sorted.filter(o => ['preparing', 'ready', 'on the way'].includes(o.status));\r\n    const delivered = sorted.filter(o => o.status === 'delivered' || o.status === 'completed');\r\n    const cancelled = sorted.filter(o => o.status === 'cancelled');\r\n    return { pending, inProgress, delivered, cancelled };\r\n  }, [orders]);\r\n\r\n  async function updateStatus(id, status) {\r\n    try {\r\n      let staffDisplayName = null;\r\n      try { staffDisplayName = typeof localStorage !== 'undefined' ? localStorage.getItem('staffDisplayName') : null; } catch {}\r\n      const payload = staffDisplayName ? { status, servedByName: staffDisplayName } : { status };\r\n      await HotelAPI.updateOrder(id, payload);\r\n      setOrders(prev => prev.map(o => (o._id === id ? { ...o, status } : o)));\r\n    } catch (e) {\r\n      alert(e.message || 'Failed to update status');\r\n    }\r\n  }\r\n\r\n  function handleStatusChange(order, nextStatus) {\r\n    if (order.status === 'pending') {\r\n      alert('Please confirm the order first and set duration.');\r\n      return;\r\n    }\r\n    if (nextStatus === 'delivered') {\r\n      alert('Delivered is set automatically by the Delivery website.');\r\n      return;\r\n    }\r\n    const requiresConfirm = ['ready', 'on the way'].includes(nextStatus) || nextStatus === 'cancelled';\r\n    if (requiresConfirm) {\r\n      if (!window.confirm(`Confirm change status to \"${nextStatus}\"?`)) return;\r\n    }\r\n    updateStatus(order._id, nextStatus);\r\n  }\r\n\r\n  async function handleConfirmSave() {\r\n    if (!confirmOrder) return;\r\n    const minutes = confirmMinutes === '' ? null : Number(confirmMinutes);\r\n    try {\r\n      let staffDisplayName = null;\r\n      try { staffDisplayName = typeof localStorage !== 'undefined' ? localStorage.getItem('staffDisplayName') : null; } catch {}\r\n      const payload = { status: 'preparing' };\r\n      if (minutes != null && !Number.isNaN(minutes)) payload.etaMinutes = minutes;\r\n      if (staffDisplayName) payload.servedByName = staffDisplayName;\r\n      await HotelAPI.updateOrder(confirmOrder._id, payload);\r\n      setOrders(prev => prev.map(o => (o._id === confirmOrder._id ? { ...o, status: 'preparing', etaMinutes: minutes ?? o.etaMinutes, servedByName: staffDisplayName || o.servedByName } : o)));\r\n      setConfirmOrder(null);\r\n      setConfirmMinutes('');\r\n    } catch (e) {\r\n      alert(e.message || 'Failed to confirm order');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', gap: 12, alignItems: 'center', marginBottom: 12 }}>\r\n        <h2 style={{ margin: 0, color: '#1a2236' }}>Orders</h2>\r\n        <span style={{ color: '#8a8fa3' }}>({orders.length})</span>\r\n        <div style={{ marginLeft: 'auto', display: 'flex', gap: 8 }}>\r\n          <button onClick={load} style={{ padding: '6px 12px', borderRadius: 8, background: '#1a2236', color: '#fff', border: 'none' }}>Refresh</button>\r\n        </div>\r\n      </div>\r\n      {loading && <div>Loading…</div>}\r\n      {error && <div style={{ color: 'crimson' }}>{error}</div>}\r\n      {/* Top Section Tabs */}\r\n      <div style={{ display: 'flex', gap: 8, marginBottom: 12, flexWrap: 'wrap' }}>\r\n        {sections.map(sec => (\r\n          <button key={sec} onClick={() => setSelectedSection(sec)}\r\n                  style={{ padding: '8px 14px', borderRadius: 999, border: selectedSection === sec ? 'none' : '1px solid #dfe3ee', background: selectedSection === sec ? '#1a2236' : '#fff', color: selectedSection === sec ? '#fff' : '#1a2236', fontWeight: 600 }}>\r\n            {sec}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Section Content */}\r\n      {selectedSection === 'Pending' && (\r\n        <div style={{ marginTop: 12 }}>\r\n          <h3 style={{ margin: '8px 0', color: '#1a2236' }}>Pending <span style={{ color: '#8a8fa3' }}>({grouped.pending.length})</span></h3>\r\n          {grouped.pending.length === 0 && !loading && <div style={{ color: '#6a708a' }}>No pending orders.</div>}\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: 12 }}>\r\n            {grouped.pending.map(order => (\r\n              <div key={order._id} style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n                <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                  <strong>#{order._id?.slice(-6)}</strong>\r\n                  <span style={{ color: '#8a8fa3' }}>• {formatDateTime(order.createdAt)}</span>\r\n                  <span style={{ marginLeft: 'auto', fontWeight: 700 }}>{formatCurrency(order.total || 0)}</span>\r\n                </div>\r\n                <div style={{ marginTop: 8, color: '#2a2f43' }}>\r\n                  <div>{order.clientName || order.clientEmail || 'Client'} — {order.clientPhone || 'N/A'}</div>\r\n                  {order.servedByName && <div style={{ color: '#2a2f43' }}>Served by: <strong>{order.servedByName}</strong></div>}\r\n                  {order.clientEmail && <div style={{ color: '#6a708a' }}>{order.clientEmail}</div>}\r\n                  {order.deliveryAddress && <div style={{ color: '#6a708a' }}>{order.deliveryAddress}</div>}\r\n                  {/* Aggregated utilities/condiments/packaging/instructions summary */}\r\n                  {(() => {\r\n                    const items = Array.isArray(order.items) ? order.items : [];\r\n                    const ut = Array.from(new Set(items.flatMap(it => Array.isArray(it.utensils) ? it.utensils : [])));\r\n                    const cond = Array.from(new Set(items.flatMap(it => Array.isArray(it.condiments) ? it.condiments : [])));\r\n                    const packaging = items\r\n                      .filter(it => ((it.menuItem?.category || it.category) === 'Packaging'))\r\n                      .map(it => it.menuItem?.name || it.name)\r\n                      .filter(Boolean);\r\n                    const notes = items.map(it => it.notes).filter(Boolean);\r\n                    const dnotes = items.map(it => it.deliveryNotes).filter(Boolean);\r\n                    return (\r\n                      <>\r\n                        {ut.length > 0 && (<div style={{ color: '#6a708a' }}>Utilities: {ut.join(', ')}</div>)}\r\n                        {cond.length > 0 && (<div style={{ color: '#6a708a' }}>Condiments: {cond.join(', ')}</div>)}\r\n                        {packaging.length > 0 && (<div style={{ color: '#6a708a' }}>Packaging: {packaging.join(', ')}</div>)}\r\n                        {notes.length > 0 && (<div style={{ color: '#6a708a' }}>Notes: {notes.join(' | ')}</div>)}\r\n                        {dnotes.length > 0 && (<div style={{ color: '#6a708a' }}>Delivery Instructions: {dnotes.join(' | ')}</div>)}\r\n                      </>\r\n                    );\r\n                  })()}\r\n                </div>\r\n                <div style={{ marginTop: 8, display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\r\n                  <label style={{ color: '#6a708a' }}>Status</label>\r\n                  <select value={order.status} disabled style={{ padding: '6px 10px', borderRadius: 8, border: '1px solid #e1e4ee' }}>\r\n                    {getStatusOptions(order).map(s => (<option key={s} value={s}>{s}</option>))}\r\n                  </select>\r\n                  <button onClick={() => { setConfirmOrder(order); setConfirmMinutes(String(order.etaMinutes ?? '')); }}\r\n                          style={{ padding: '6px 12px', borderRadius: 8, background: '#ffb300', color: '#1a2236', border: 'none' }}>\r\n                    Confirm + Set Duration\r\n                  </button>\r\n                  <button onClick={() => setExpandedId(expandedId === order._id ? null : order._id)}\r\n                          style={{ padding: '6px 12px', borderRadius: 8, border: '1px solid #e1e4ee', background: '#fff' }}>\r\n                    {expandedId === order._id ? 'Hide Details' : 'View Details'}\r\n                  </button>\r\n                  <span style={{ marginLeft: 'auto', color: '#6a708a' }}>{order.items?.length || 0} items</span>\r\n                </div>\r\n                {expandedId === order._id && (\r\n                  <div style={{ marginTop: 10, background: '#fafbfe', border: '1px solid #eef0f6', borderRadius: 10, padding: 12 }}>\r\n                    <div style={{ fontWeight: 700, marginBottom: 8, color: '#1a2236' }}>Items</div>\r\n                    <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n                      {(order.items || []).map((it, i) => {\r\n                        const name = it.menuItem?.name || it.name || 'Item';\r\n                        const qty = it.quantity || it.qty || 1;\r\n                        const price = it.menuItem?.price;\r\n                        const total = price != null ? price * qty : (it.total != null ? it.total : null);\r\n                        return (\r\n                          <li key={i} style={{ display: 'flex', alignItems: 'center', marginBottom: 10, background: '#fff', borderRadius: 10, boxShadow: '0 1px 6px #0001', padding: '8px 12px' }}>\r\n                            <div style={{ flex: 1 }}>\r\n                              <div style={{ fontWeight: 700, color: '#1a2236' }}>{name}</div>\r\n                              <div style={{ color: '#555' }}>Qty: {qty}</div>\r\n                              {total != null && <div style={{ fontWeight: 700, color: '#ffb300' }}>{formatCurrency(total)}</div>}\r\n                              {it.utensils && it.utensils.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Utensils: {it.utensils.join(', ')}</div>\r\n                              )}\r\n                              {it.condiments && it.condiments.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Condiments: {it.condiments.join(', ')}</div>\r\n                              )}\r\n                              {it.notes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Notes: {it.notes}</div>\r\n                              )}\r\n                              {it.deliveryNotes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Delivery Instructions: {it.deliveryNotes}</div>\r\n                              )}\r\n                            </div>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                    <div style={{ display: 'flex', gap: 16, marginTop: 8, color: '#2a2f43', flexWrap: 'wrap' }}>\r\n                      {order.paymentStatus && <div>Payment: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.paymentStatus}</span></div>}\r\n                      {order.etaMinutes != null && <div>ETA: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.etaMinutes} min</span></div>}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {selectedSection === 'In Progress' && (\r\n        <div style={{ marginTop: 12 }}>\r\n          <h3 style={{ margin: '8px 0', color: '#1a2236' }}>In Progress <span style={{ color: '#8a8fa3' }}>({grouped.inProgress.length})</span></h3>\r\n          {grouped.inProgress.length === 0 && !loading && <div style={{ color: '#6a708a' }}>No in-progress orders.</div>}\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: 12 }}>\r\n            {grouped.inProgress.map(order => (\r\n              <div key={order._id} style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n                <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                  <strong>#{order._id?.slice(-6)}</strong>\r\n                  <span style={{ color: '#8a8fa3' }}>• {formatDateTime(order.createdAt)}</span>\r\n                  <span style={{ marginLeft: 'auto', fontWeight: 700 }}>{formatCurrency(order.total || 0)}</span>\r\n                </div>\r\n                <div style={{ marginTop: 8, color: '#2a2f43' }}>\r\n                  <div>{order.clientName || order.clientEmail || 'Client'} — {order.clientPhone || 'N/A'}</div>\r\n                  {order.servedByName && <div style={{ color: '#2a2f43' }}>Served by: <strong>{order.servedByName}</strong></div>}\r\n                  {order.clientEmail && <div style={{ color: '#6a708a' }}>{order.clientEmail}</div>}\r\n                  {order.deliveryAddress && <div style={{ color: '#6a708a' }}>{order.deliveryAddress}</div>}\r\n                  {(() => {\r\n                    const items = Array.isArray(order.items) ? order.items : [];\r\n                    const ut = Array.from(new Set(items.flatMap(it => Array.isArray(it.utensils) ? it.utensils : [])));\r\n                    const cond = Array.from(new Set(items.flatMap(it => Array.isArray(it.condiments) ? it.condiments : [])));\r\n                    const packaging = items\r\n                      .filter(it => ((it.menuItem?.category || it.category) === 'Packaging'))\r\n                      .map(it => it.menuItem?.name || it.name)\r\n                      .filter(Boolean);\r\n                    const notes = items.map(it => it.notes).filter(Boolean);\r\n                    const dnotes = items.map(it => it.deliveryNotes).filter(Boolean);\r\n                    return (\r\n                      <>\r\n                        {ut.length > 0 && (<div style={{ color: '#6a708a' }}>Utilities: {ut.join(', ')}</div>)}\r\n                        {cond.length > 0 && (<div style={{ color: '#6a708a' }}>Condiments: {cond.join(', ')}</div>)}\r\n                        {packaging.length > 0 && (<div style={{ color: '#6a708a' }}>Packaging: {packaging.join(', ')}</div>)}\r\n                        {notes.length > 0 && (<div style={{ color: '#6a708a' }}>Notes: {notes.join(' | ')}</div>)}\r\n                        {dnotes.length > 0 && (<div style={{ color: '#6a708a' }}>Delivery Instructions: {dnotes.join(' | ')}</div>)}\r\n                      </>\r\n                    );\r\n                  })()}\r\n                </div>\r\n                <div style={{ marginTop: 8, display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\r\n                  <label style={{ color: '#6a708a' }}>Status</label>\r\n                  <select\r\n                    value={order.status}\r\n                    onChange={e => handleStatusChange(order, e.target.value)}\r\n                    style={{ padding: '6px 10px', borderRadius: 8, border: '1px solid #e1e4ee' }}\r\n                  >\r\n                    {getStatusOptions(order).map(s => (\r\n                      <option key={s} value={s} disabled={s === 'delivered'}>{s}</option>\r\n                    ))}\r\n                  </select>\r\n                  <button onClick={() => setExpandedId(expandedId === order._id ? null : order._id)}\r\n                          style={{ padding: '6px 12px', borderRadius: 8, border: '1px solid #e1e4ee', background: '#fff' }}>\r\n                    {expandedId === order._id ? 'Hide Details' : 'View Details'}\r\n                  </button>\r\n                  <span style={{ marginLeft: 'auto', color: '#6a708a' }}>{order.items?.length || 0} items</span>\r\n                </div>\r\n                {expandedId === order._id && (\r\n                  <div style={{ marginTop: 10, background: '#fafbfe', border: '1px solid #eef0f6', borderRadius: 10, padding: 12 }}>\r\n                    <div style={{ fontWeight: 700, marginBottom: 8, color: '#1a2236' }}>Items</div>\r\n                    <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n                      {(order.items || []).map((it, i) => {\r\n                        const name = it.menuItem?.name || it.name || 'Item';\r\n                        const qty = it.quantity || it.qty || 1;\r\n                        const price = it.menuItem?.price;\r\n                        const total = price != null ? price * qty : (it.total != null ? it.total : null);\r\n                        return (\r\n                          <li key={i} style={{ display: 'flex', alignItems: 'center', marginBottom: 10, background: '#fff', borderRadius: 10, boxShadow: '0 1px 6px #0001', padding: '8px 12px' }}>\r\n                            <div style={{ flex: 1 }}>\r\n                              <div style={{ fontWeight: 700, color: '#1a2236' }}>{name}</div>\r\n                              <div style={{ color: '#555' }}>Qty: {qty}</div>\r\n                              {total != null && <div style={{ fontWeight: 700, color: '#ffb300' }}>{formatCurrency(total)}</div>}\r\n                              {it.utensils && it.utensils.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Utensils: {it.utensils.join(', ')}</div>\r\n                              )}\r\n                              {it.condiments && it.condiments.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Condiments: {it.condiments.join(', ')}</div>\r\n                              )}\r\n                              {it.notes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Notes: {it.notes}</div>\r\n                              )}\r\n                              {it.deliveryNotes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Delivery Instructions: {it.deliveryNotes}</div>\r\n                              )}\r\n                            </div>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                    <div style={{ display: 'flex', gap: 16, marginTop: 8, color: '#2a2f43', flexWrap: 'wrap' }}>\r\n                      {order.paymentStatus && <div>Payment: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.paymentStatus}</span></div>}\r\n                      {order.etaMinutes != null && <div>ETA: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.etaMinutes} min</span></div>}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {selectedSection === 'Delivered' && (\r\n        <div style={{ marginTop: 12 }}>\r\n          <h3 style={{ margin: '8px 0', color: '#1a2236' }}>Delivered <span style={{ color: '#8a8fa3' }}>({grouped.delivered.length})</span></h3>\r\n          {grouped.delivered.length === 0 && !loading && <div style={{ color: '#6a708a' }}>No delivered orders.</div>}\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: 12 }}>\r\n            {grouped.delivered.map(order => (\r\n              <div key={order._id} style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n                <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                  <strong>#{order._id?.slice(-6)}</strong>\r\n                  <span style={{ color: '#8a8fa3' }}>• {formatDateTime(order.createdAt)}</span>\r\n                  <span style={{ marginLeft: 'auto', fontWeight: 700 }}>{formatCurrency(order.total || 0)}</span>\r\n                </div>\r\n                <div style={{ marginTop: 8, color: '#2a2f43' }}>\r\n                  <div>{order.clientName || order.clientEmail || 'Client'} — {order.clientPhone || 'N/A'}</div>\r\n                  {order.servedByName && <div style={{ color: '#2a2f43' }}>Served by: <strong>{order.servedByName}</strong></div>}\r\n                  {order.clientEmail && <div style={{ color: '#6a708a' }}>{order.clientEmail}</div>}\r\n                  {order.deliveryAddress && <div style={{ color: '#6a708a' }}>{order.deliveryAddress}</div>}\r\n                  {(() => {\r\n                    const items = Array.isArray(order.items) ? order.items : [];\r\n                    const ut = Array.from(new Set(items.flatMap(it => Array.isArray(it.utensils) ? it.utensils : [])));\r\n                    const cond = Array.from(new Set(items.flatMap(it => Array.isArray(it.condiments) ? it.condiments : [])));\r\n                    const packaging = items\r\n                      .filter(it => ((it.menuItem?.category || it.category) === 'Packaging'))\r\n                      .map(it => it.menuItem?.name || it.name)\r\n                      .filter(Boolean);\r\n                    const notes = items.map(it => it.notes).filter(Boolean);\r\n                    const dnotes = items.map(it => it.deliveryNotes).filter(Boolean);\r\n                    return (\r\n                      <>\r\n                        {ut.length > 0 && (<div style={{ color: '#6a708a' }}>Utilities: {ut.join(', ')}</div>)}\r\n                        {cond.length > 0 && (<div style={{ color: '#6a708a' }}>Condiments: {cond.join(', ')}</div>)}\r\n                        {packaging.length > 0 && (<div style={{ color: '#6a708a' }}>Packaging: {packaging.join(', ')}</div>)}\r\n                        {notes.length > 0 && (<div style={{ color: '#6a708a' }}>Notes: {notes.join(' | ')}</div>)}\r\n                        {dnotes.length > 0 && (<div style={{ color: '#6a708a' }}>Delivery Instructions: {dnotes.join(' | ')}</div>)}\r\n                      </>\r\n                    );\r\n                  })()}\r\n                </div>\r\n                <div style={{ marginTop: 8, display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\r\n                  <label style={{ color: '#6a708a' }}>Status</label>\r\n                  <select value={order.status} disabled style={{ padding: '6px 10px', borderRadius: 8, border: '1px solid #e1e4ee' }}>\r\n                    {getStatusOptions(order).map(s => (<option key={s} value={s}>{s}</option>))}\r\n                  </select>\r\n                  <button onClick={() => setExpandedId(expandedId === order._id ? null : order._id)}\r\n                          style={{ padding: '6px 12px', borderRadius: 8, border: '1px solid #e1e4ee', background: '#fff' }}>\r\n                    {expandedId === order._id ? 'Hide Details' : 'View Details'}\r\n                  </button>\r\n                  <span style={{ marginLeft: 'auto', color: '#6a708a' }}>{order.items?.length || 0} items</span>\r\n                </div>\r\n                {expandedId === order._id && (\r\n                  <div style={{ marginTop: 10, background: '#fafbfe', border: '1px solid #eef0f6', borderRadius: 10, padding: 12 }}>\r\n                    <div style={{ fontWeight: 700, marginBottom: 8, color: '#1a2236' }}>Items</div>\r\n                    <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n                      {(order.items || []).map((it, i) => {\r\n                        const name = it.menuItem?.name || it.name || 'Item';\r\n                        const qty = it.quantity || it.qty || 1;\r\n                        const price = it.menuItem?.price;\r\n                        const total = price != null ? price * qty : (it.total != null ? it.total : null);\r\n                        return (\r\n                          <li key={i} style={{ display: 'flex', alignItems: 'center', marginBottom: 10, background: '#fff', borderRadius: 10, boxShadow: '0 1px 6px #0001', padding: '8px 12px' }}>\r\n                            <div style={{ flex: 1 }}>\r\n                              <div style={{ fontWeight: 700, color: '#1a2236' }}>{name}</div>\r\n                              <div style={{ color: '#555' }}>Qty: {qty}</div>\r\n                              {total != null && <div style={{ fontWeight: 700, color: '#ffb300' }}>{formatCurrency(total)}</div>}\r\n                              {it.utensils && it.utensils.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Utensils: {it.utensils.join(', ')}</div>\r\n                              )}\r\n                              {it.condiments && it.condiments.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Condiments: {it.condiments.join(', ')}</div>\r\n                              )}\r\n                              {it.notes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Notes: {it.notes}</div>\r\n                              )}\r\n                              {it.deliveryNotes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Delivery Instructions: {it.deliveryNotes}</div>\r\n                              )}\r\n                            </div>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                    <div style={{ display: 'flex', gap: 16, marginTop: 8, color: '#2a2f43', flexWrap: 'wrap' }}>\r\n                      {order.paymentStatus && <div>Payment: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.paymentStatus}</span></div>}\r\n                      {order.etaMinutes != null && <div>ETA: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.etaMinutes} min</span></div>}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {selectedSection === 'Cancelled' && (\r\n        <div style={{ marginTop: 12 }}>\r\n          <h3 style={{ margin: '8px 0', color: '#1a2236' }}>Cancelled <span style={{ color: '#8a8fa3' }}>({grouped.cancelled.length})</span></h3>\r\n          {grouped.cancelled.length === 0 && !loading && <div style={{ color: '#6a708a' }}>No cancelled orders.</div>}\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: 12 }}>\r\n            {grouped.cancelled.map(order => (\r\n              <div key={order._id} style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n                <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                  <strong>#{order._id?.slice(-6)}</strong>\r\n                  <span style={{ color: '#8a8fa3' }}>• {formatDateTime(order.createdAt)}</span>\r\n                  <span style={{ marginLeft: 'auto', fontWeight: 700 }}>{formatCurrency(order.total || 0)}</span>\r\n                </div>\r\n                <div style={{ marginTop: 8, color: '#2a2f43' }}>\r\n                  <div>{order.clientName || order.clientEmail || 'Client'} — {order.clientPhone || 'N/A'}</div>\r\n                  {order.servedByName && <div style={{ color: '#2a2f43' }}>Served by: <strong>{order.servedByName}</strong></div>}\r\n                  {order.clientEmail && <div style={{ color: '#6a708a' }}>{order.clientEmail}</div>}\r\n                  {order.deliveryAddress && <div style={{ color: '#6a708a' }}>{order.deliveryAddress}</div>}\r\n                  {(() => {\r\n                    const items = Array.isArray(order.items) ? order.items : [];\r\n                    const ut = Array.from(new Set(items.flatMap(it => Array.isArray(it.utensils) ? it.utensils : [])));\r\n                    const cond = Array.from(new Set(items.flatMap(it => Array.isArray(it.condiments) ? it.condiments : [])));\r\n                    const packaging = items\r\n                      .filter(it => ((it.menuItem?.category || it.category) === 'Packaging'))\r\n                      .map(it => it.menuItem?.name || it.name)\r\n                      .filter(Boolean);\r\n                    const notes = items.map(it => it.notes).filter(Boolean);\r\n                    const dnotes = items.map(it => it.deliveryNotes).filter(Boolean);\r\n                    return (\r\n                      <>\r\n                        {ut.length > 0 && (<div style={{ color: '#6a708a' }}>Utilities: {ut.join(', ')}</div>)}\r\n                        {cond.length > 0 && (<div style={{ color: '#6a708a' }}>Condiments: {cond.join(', ')}</div>)}\r\n                        {packaging.length > 0 && (<div style={{ color: '#6a708a' }}>Packaging: {packaging.join(', ')}</div>)}\r\n                        {notes.length > 0 && (<div style={{ color: '#6a708a' }}>Notes: {notes.join(' | ')}</div>)}\r\n                        {dnotes.length > 0 && (<div style={{ color: '#6a708a' }}>Delivery Instructions: {dnotes.join(' | ')}</div>)}\r\n                      </>\r\n                    );\r\n                  })()}\r\n                </div>\r\n                <div style={{ marginTop: 8, display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\r\n                  <label style={{ color: '#6a708a' }}>Status</label>\r\n                  <select value={order.status} disabled style={{ padding: '6px 10px', borderRadius: 8, border: '1px solid #e1e4ee' }}>\r\n                    {getStatusOptions(order).map(s => (<option key={s} value={s}>{s}</option>))}\r\n                  </select>\r\n                  <button onClick={() => setExpandedId(expandedId === order._id ? null : order._id)}\r\n                          style={{ padding: '6px 12px', borderRadius: 8, border: '1px solid #e1e4ee', background: '#fff' }}>\r\n                    {expandedId === order._id ? 'Hide Details' : 'View Details'}\r\n                  </button>\r\n                  <span style={{ marginLeft: 'auto', color: '#6a708a' }}>{order.items?.length || 0} items</span>\r\n                </div>\r\n                {expandedId === order._id && (\r\n                  <div style={{ marginTop: 10, background: '#fafbfe', border: '1px solid #eef0f6', borderRadius: 10, padding: 12 }}>\r\n                    <div style={{ fontWeight: 700, marginBottom: 8, color: '#1a2236' }}>Items</div>\r\n                    <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n                      {(order.items || []).map((it, i) => {\r\n                        const name = it.menuItem?.name || it.name || 'Item';\r\n                        const qty = it.quantity || it.qty || 1;\r\n                        const price = it.menuItem?.price;\r\n                        const total = price != null ? price * qty : (it.total != null ? it.total : null);\r\n                        return (\r\n                          <li key={i} style={{ display: 'flex', alignItems: 'center', marginBottom: 10, background: '#fff', borderRadius: 10, boxShadow: '0 1px 6px #0001', padding: '8px 12px' }}>\r\n                            <div style={{ flex: 1 }}>\r\n                              <div style={{ fontWeight: 700, color: '#1a2236' }}>{name}</div>\r\n                              <div style={{ color: '#555' }}>Qty: {qty}</div>\r\n                              {total != null && <div style={{ fontWeight: 700, color: '#ffb300' }}>{formatCurrency(total)}</div>}\r\n                              {it.utensils && it.utensils.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Utensils: {it.utensils.join(', ')}</div>\r\n                              )}\r\n                              {it.condiments && it.condiments.length > 0 && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Condiments: {it.condiments.join(', ')}</div>\r\n                              )}\r\n                              {it.notes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Notes: {it.notes}</div>\r\n                              )}\r\n                              {it.deliveryNotes && (\r\n                                <div style={{ color: '#6a708a', fontSize: 13 }}>Delivery Instructions: {it.deliveryNotes}</div>\r\n                              )}\r\n                            </div>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                    <div style={{ display: 'flex', gap: 16, marginTop: 8, color: '#2a2f43', flexWrap: 'wrap' }}>\r\n                      {order.paymentStatus && <div>Payment: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.paymentStatus}</span></div>}\r\n                      {order.etaMinutes != null && <div>ETA: <span style={{ color: '#ffb300', fontWeight: 600 }}>{order.etaMinutes} min</span></div>}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {confirmOrder && (\r\n        <div style={{ marginTop: 12, border: '1px solid #ffe6b3', background: '#fff8e6', borderRadius: 12, padding: 12 }}>\r\n          <div style={{ fontWeight: 700, marginBottom: 8 }}>Confirm Order #{confirmOrder._id?.slice(-6)}</div>\r\n          <div style={{ display: 'grid', gap: 10 }}>\r\n            <div>\r\n              <label style={{ display: 'block', fontSize: 12, color: '#6a708a' }}>Preparation Duration (minutes)</label>\r\n              <input type=\"number\" min=\"0\" step=\"1\" value={confirmMinutes}\r\n                     onChange={e => setConfirmMinutes(e.target.value)}\r\n                     style={{ width: '100%', padding: 8, borderRadius: 8, border: '1px solid #e1e4ee' }} />\r\n            </div>\r\n            <div style={{ display: 'flex', gap: 8, justifyContent: 'flex-end' }}>\r\n              <button onClick={() => { setConfirmOrder(null); setConfirmMinutes(''); }}\r\n                      style={{ padding: '6px 12px', borderRadius: 8, border: '1px solid #dfe3ee', background: '#fff' }}>Cancel</button>\r\n              <button onClick={handleConfirmSave}\r\n                      style={{ padding: '6px 12px', borderRadius: 8, border: 'none', background: '#1a2236', color: '#fff' }}>Confirm</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}