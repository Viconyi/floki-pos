{"ast":null,"code":"var _jsxFileName = \"C:\\\\Floki\\\\web-hotel\\\\src\\\\pages\\\\SalesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { HotelAPI, formatCurrency } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction groupByDate(orders) {\n  const out = {};\n  for (const o of orders) {\n    const d = new Date(o.createdAt);\n    const key = d.toISOString().slice(0, 10);\n    if (!out[key]) out[key] = {\n      total: 0,\n      count: 0\n    };\n    out[key].total += Number(o.total || 0);\n    out[key].count += 1;\n  }\n  return out;\n}\nexport default function SalesPage() {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [from, setFrom] = useState('');\n  const [to, setTo] = useState('');\n  const [mode, setMode] = useState('all'); // 'all' | 'pickup' | 'delivery'\n  const [expandedId, setExpandedId] = useState(null);\n  async function load() {\n    setLoading(true);\n    setError('');\n    try {\n      const data = await HotelAPI.listOrders();\n      setOrders(data);\n    } catch (e) {\n      setError(e.message || 'Failed to load sales');\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    load();\n  }, []);\n  const completed = useMemo(() => orders.filter(o => o.status === 'delivered' || o.status === 'completed'), [orders]);\n  const filtered = useMemo(() => {\n    let arr = completed;\n    if (mode !== 'all') {\n      const target = mode === 'pickup' ? 'pickup' : 'delivery';\n      arr = arr.filter(o => String(o.deliveryType || 'pickup').toLowerCase() === target);\n    }\n    if (from) {\n      const f = new Date(from);\n      arr = arr.filter(o => new Date(o.createdAt) >= f);\n    }\n    if (to) {\n      const t = new Date(to);\n      t.setHours(23, 59, 59, 999);\n      arr = arr.filter(o => new Date(o.createdAt) <= t);\n    }\n    return arr;\n  }, [completed, mode, from, to]);\n  const totals = useMemo(() => {\n    const revenue = filtered.reduce((s, o) => s + Number(o.total || 0), 0);\n    const count = filtered.length;\n    const avg = count ? revenue / count : 0;\n    const byDate = groupByDate(filtered);\n    const series = Object.entries(byDate).sort((a, b) => a[0].localeCompare(b[0]));\n    return {\n      revenue,\n      count,\n      avg,\n      series\n    };\n  }, [filtered]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 12,\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0,\n          color: '#1a2236'\n        },\n        children: \"Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          alignItems: 'center',\n          marginLeft: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#6a708a',\n            fontSize: 12\n          },\n          children: \"From\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: from,\n          onChange: e => setFrom(e.target.value),\n          style: {\n            padding: '6px 10px',\n            borderRadius: 8,\n            border: '1px solid #e1e4ee'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#6a708a',\n            fontSize: 12\n          },\n          children: \"To\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: to,\n          onChange: e => setTo(e.target.value),\n          style: {\n            padding: '6px 10px',\n            borderRadius: 8,\n            border: '1px solid #e1e4ee'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: load,\n          style: {\n            padding: '6px 12px',\n            borderRadius: 8,\n            border: '1px solid #dfe3ee',\n            background: '#fff'\n          },\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        marginBottom: 12\n      },\n      children: ['all', 'pickup', 'delivery'].map(m => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(m),\n        style: {\n          padding: '8px 14px',\n          borderRadius: 999,\n          border: mode === m ? 'none' : '1px solid #dfe3ee',\n          background: mode === m ? '#1a2236' : '#fff',\n          color: mode === m ? '#fff' : '#1a2236',\n          fontWeight: 600\n        },\n        children: m === 'all' ? 'All' : m === 'pickup' ? 'Pickup' : 'Delivery'\n      }, m, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'crimson'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(3, 1fr)',\n        gap: 12,\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #eef0f6',\n          borderRadius: 12,\n          padding: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6a708a',\n            fontSize: 12\n          },\n          children: \"Revenue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800,\n            fontSize: 22\n          },\n          children: formatCurrency(totals.revenue)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #eef0f6',\n          borderRadius: 12,\n          padding: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6a708a',\n            fontSize: 12\n          },\n          children: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800,\n            fontSize: 22\n          },\n          children: totals.count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #eef0f6',\n          borderRadius: 12,\n          padding: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6a708a',\n            fontSize: 12\n          },\n          children: \"Avg. Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800,\n            fontSize: 22\n          },\n          children: formatCurrency(totals.avg)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #eef0f6',\n        borderRadius: 12,\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          background: '#fafbfe',\n          color: '#6a708a',\n          padding: '8px 12px',\n          fontSize: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Revenue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), totals.series.map(([date, d]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          padding: '8px 12px',\n          borderTop: '1px solid #f0f2f7'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 600\n          },\n          children: formatCurrency(d.total)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, date, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)), !loading && totals.series.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 12,\n          color: '#6a708a'\n        },\n        children: \"No sales in this range.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        border: '1px solid #eef0f6',\n        borderRadius: 12,\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '2fr 1fr 1fr 1fr',\n          background: '#fafbfe',\n          color: '#6a708a',\n          padding: '8px 12px',\n          fontSize: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Served By\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), filtered.slice(0, 30).map(o => {\n        const isExpanded = expandedId === String(o._id);\n        const type = String(o.deliveryType || 'Pickup');\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderTop: '1px solid #f0f2f7'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '2fr 1fr 1fr 1fr',\n              padding: '8px 12px',\n              cursor: 'pointer'\n            },\n            onClick: () => setExpandedId(isExpanded ? null : String(o._id)),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"#\", String(o._id).slice(-6), \" \\u2022 \", new Date(o.createdAt).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600\n              },\n              children: formatCurrency(Number(o.total || 0))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600\n              },\n              children: type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600\n              },\n              children: o.servedByName || '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#fafbfe',\n              padding: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700,\n                marginBottom: 8,\n                color: '#1a2236'\n              },\n              children: \"Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                listStyle: 'none',\n                padding: 0,\n                margin: 0\n              },\n              children: (o.items || []).map((it, i) => {\n                var _it$menuItem, _it$menuItem2;\n                const name = ((_it$menuItem = it.menuItem) === null || _it$menuItem === void 0 ? void 0 : _it$menuItem.name) || it.name || 'Item';\n                const qty = it.quantity || it.qty || 1;\n                const price = (_it$menuItem2 = it.menuItem) === null || _it$menuItem2 === void 0 ? void 0 : _it$menuItem2.price;\n                const total = price != null ? price * qty : null;\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    marginBottom: 8\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 600\n                      },\n                      children: name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: '#6a708a',\n                        fontSize: 13\n                      },\n                      children: [\"Qty: \", qty]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 29\n                    }, this), total != null && /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: '#ffb300',\n                        fontWeight: 700\n                      },\n                      children: formatCurrency(total)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 47\n                    }, this), it.utensils && it.utensils.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: '#6a708a',\n                        fontSize: 13\n                      },\n                      children: [\"Utensils: \", it.utensils.join(', ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 31\n                    }, this), it.condiments && it.condiments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: '#6a708a',\n                        fontSize: 13\n                      },\n                      children: [\"Condiments: \", it.condiments.join(', ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 31\n                    }, this), it.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: '#6a708a',\n                        fontSize: 13\n                      },\n                      children: [\"Notes: \", it.notes]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 27\n                  }, this)\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 16,\n                marginTop: 8,\n                color: '#2a2f43',\n                flexWrap: 'wrap'\n              },\n              children: [o.paymentStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Payment: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#ffb300',\n                    fontWeight: 600\n                  },\n                  children: o.paymentStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 41\n              }, this), o.clientName && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Client: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: o.clientName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 51\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 38\n              }, this), o.clientPhone && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Phone: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: o.clientPhone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 51\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 17\n          }, this)]\n        }, o._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this);\n      }), !loading && filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 12,\n          color: '#6a708a'\n        },\n        children: \"No recent orders.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(SalesPage, \"Eor50qR5Zq+D0w8ISMytxhJRrs0=\");\n_c = SalesPage;\nvar _c;\n$RefreshReg$(_c, \"SalesPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","HotelAPI","formatCurrency","jsxDEV","_jsxDEV","groupByDate","orders","out","o","d","Date","createdAt","key","toISOString","slice","total","count","Number","SalesPage","_s","setOrders","loading","setLoading","error","setError","from","setFrom","to","setTo","mode","setMode","expandedId","setExpandedId","load","data","listOrders","e","message","completed","filter","status","filtered","arr","target","String","deliveryType","toLowerCase","f","t","setHours","totals","revenue","reduce","s","length","avg","byDate","series","Object","entries","sort","a","b","localeCompare","children","style","display","alignItems","gap","marginBottom","margin","color","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","fontSize","type","value","onChange","padding","borderRadius","border","onClick","background","map","m","fontWeight","gridTemplateColumns","overflow","date","borderTop","marginTop","isExpanded","_id","cursor","toLocaleString","servedByName","listStyle","items","it","i","_it$menuItem","_it$menuItem2","name","menuItem","qty","quantity","price","flex","utensils","join","condiments","notes","flexWrap","paymentStatus","clientName","clientPhone","_c","$RefreshReg$"],"sources":["C:/Floki/web-hotel/src/pages/SalesPage.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { HotelAPI, formatCurrency } from '../api';\r\n\r\nfunction groupByDate(orders) {\r\n  const out = {};\r\n  for (const o of orders) {\r\n    const d = new Date(o.createdAt);\r\n    const key = d.toISOString().slice(0, 10);\r\n    if (!out[key]) out[key] = { total: 0, count: 0 };\r\n    out[key].total += Number(o.total || 0);\r\n    out[key].count += 1;\r\n  }\r\n  return out;\r\n}\r\n\r\nexport default function SalesPage() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [mode, setMode] = useState('all'); // 'all' | 'pickup' | 'delivery'\r\n  const [expandedId, setExpandedId] = useState(null);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const data = await HotelAPI.listOrders();\r\n      setOrders(data);\r\n    } catch (e) {\r\n      setError(e.message || 'Failed to load sales');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  const completed = useMemo(() => orders.filter(o => o.status === 'delivered' || o.status === 'completed'), [orders]);\r\n\r\n  const filtered = useMemo(() => {\r\n    let arr = completed;\r\n    if (mode !== 'all') {\r\n      const target = mode === 'pickup' ? 'pickup' : 'delivery';\r\n      arr = arr.filter(o => String(o.deliveryType || 'pickup').toLowerCase() === target);\r\n    }\r\n    if (from) {\r\n      const f = new Date(from);\r\n      arr = arr.filter(o => new Date(o.createdAt) >= f);\r\n    }\r\n    if (to) {\r\n      const t = new Date(to);\r\n      t.setHours(23,59,59,999);\r\n      arr = arr.filter(o => new Date(o.createdAt) <= t);\r\n    }\r\n    return arr;\r\n  }, [completed, mode, from, to]);\r\n\r\n  const totals = useMemo(() => {\r\n    const revenue = filtered.reduce((s, o) => s + Number(o.total || 0), 0);\r\n    const count = filtered.length;\r\n    const avg = count ? revenue / count : 0;\r\n    const byDate = groupByDate(filtered);\r\n    const series = Object.entries(byDate).sort((a,b)=>a[0].localeCompare(b[0]));\r\n    return { revenue, count, avg, series };\r\n  }, [filtered]);\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 12 }}>\r\n        <h2 style={{ margin: 0, color: '#1a2236' }}>Sales</h2>\r\n        <div style={{ display: 'flex', gap: 8, alignItems: 'center', marginLeft: 'auto' }}>\r\n          <label style={{ color: '#6a708a', fontSize: 12 }}>From</label>\r\n          <input type=\"date\" value={from} onChange={e => setFrom(e.target.value)} style={{ padding: '6px 10px', borderRadius: 8, border: '1px solid #e1e4ee' }} />\r\n          <label style={{ color: '#6a708a', fontSize: 12 }}>To</label>\r\n          <input type=\"date\" value={to} onChange={e => setTo(e.target.value)} style={{ padding: '6px 10px', borderRadius: 8, border: '1px solid #e1e4ee' }} />\r\n          <button onClick={load} style={{ padding: '6px 12px', borderRadius: 8, border: '1px solid #dfe3ee', background: '#fff' }}>Refresh</button>\r\n        </div>\r\n      </div>\r\n      {/* Segmentation tabs */}\r\n      <div style={{ display: 'flex', gap: 8, marginBottom: 12 }}>\r\n        {['all','pickup','delivery'].map(m => (\r\n          <button key={m} onClick={() => setMode(m)}\r\n                  style={{ padding: '8px 14px', borderRadius: 999, border: mode === m ? 'none' : '1px solid #dfe3ee', background: mode === m ? '#1a2236' : '#fff', color: mode === m ? '#fff' : '#1a2236', fontWeight: 600 }}>\r\n            {m === 'all' ? 'All' : (m === 'pickup' ? 'Pickup' : 'Delivery')}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      {loading && <div>Loading…</div>}\r\n      {error && <div style={{ color: 'crimson' }}>{error}</div>}\r\n\r\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: 12, marginBottom: 12 }}>\r\n        <div style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n          <div style={{ color: '#6a708a', fontSize: 12 }}>Revenue</div>\r\n          <div style={{ fontWeight: 800, fontSize: 22 }}>{formatCurrency(totals.revenue)}</div>\r\n        </div>\r\n        <div style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n          <div style={{ color: '#6a708a', fontSize: 12 }}>Orders</div>\r\n          <div style={{ fontWeight: 800, fontSize: 22 }}>{totals.count}</div>\r\n        </div>\r\n        <div style={{ border: '1px solid #eef0f6', borderRadius: 12, padding: 12 }}>\r\n          <div style={{ color: '#6a708a', fontSize: 12 }}>Avg. Order</div>\r\n          <div style={{ fontWeight: 800, fontSize: 22 }}>{formatCurrency(totals.avg)}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ border: '1px solid #eef0f6', borderRadius: 12, overflow: 'hidden' }}>\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', background: '#fafbfe', color: '#6a708a', padding: '8px 12px', fontSize: 12 }}>\r\n          <div>Date</div>\r\n          <div>Revenue</div>\r\n        </div>\r\n        {totals.series.map(([date, d]) => (\r\n          <div key={date} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', padding: '8px 12px', borderTop: '1px solid #f0f2f7' }}>\r\n            <div>{date}</div>\r\n            <div style={{ fontWeight: 600 }}>{formatCurrency(d.total)}</div>\r\n          </div>\r\n        ))}\r\n        {!loading && totals.series.length === 0 && (\r\n          <div style={{ padding: 12, color: '#6a708a' }}>No sales in this range.</div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Recent orders with expandable details */}\r\n      <div style={{ marginTop: 16, border: '1px solid #eef0f6', borderRadius: 12, overflow: 'hidden' }}>\r\n        <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr 1fr', background: '#fafbfe', color: '#6a708a', padding: '8px 12px', fontSize: 12 }}>\r\n          <div>Order</div>\r\n          <div>Amount</div>\r\n          <div>Type</div>\r\n          <div>Served By</div>\r\n        </div>\r\n        {filtered.slice(0, 30).map(o => {\r\n          const isExpanded = expandedId === String(o._id);\r\n          const type = String(o.deliveryType || 'Pickup');\r\n          return (\r\n            <div key={o._id} style={{ borderTop: '1px solid #f0f2f7' }}>\r\n              <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr 1fr', padding: '8px 12px', cursor: 'pointer' }} onClick={() => setExpandedId(isExpanded ? null : String(o._id))}>\r\n                <div>#{String(o._id).slice(-6)} • {new Date(o.createdAt).toLocaleString()}</div>\r\n                <div style={{ fontWeight: 600 }}>{formatCurrency(Number(o.total || 0))}</div>\r\n                <div style={{ fontWeight: 600 }}>{type}</div>\r\n                <div style={{ fontWeight: 600 }}>{o.servedByName || '—'}</div>\r\n              </div>\r\n              {isExpanded && (\r\n                <div style={{ background: '#fafbfe', padding: 12 }}>\r\n                  <div style={{ fontWeight: 700, marginBottom: 8, color: '#1a2236' }}>Items</div>\r\n                  <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n                    {(o.items || []).map((it, i) => {\r\n                      const name = it.menuItem?.name || it.name || 'Item';\r\n                      const qty = it.quantity || it.qty || 1;\r\n                      const price = it.menuItem?.price;\r\n                      const total = price != null ? price * qty : null;\r\n                      return (\r\n                        <li key={i} style={{ display: 'flex', alignItems: 'center', marginBottom: 8 }}>\r\n                          <div style={{ flex: 1 }}>\r\n                            <div style={{ fontWeight: 600 }}>{name}</div>\r\n                            <div style={{ color: '#6a708a', fontSize: 13 }}>Qty: {qty}</div>\r\n                            {total != null && <div style={{ color: '#ffb300', fontWeight: 700 }}>{formatCurrency(total)}</div>}\r\n                            {it.utensils && it.utensils.length > 0 && (\r\n                              <div style={{ color: '#6a708a', fontSize: 13 }}>Utensils: {it.utensils.join(', ')}</div>\r\n                            )}\r\n                            {it.condiments && it.condiments.length > 0 && (\r\n                              <div style={{ color: '#6a708a', fontSize: 13 }}>Condiments: {it.condiments.join(', ')}</div>\r\n                            )}\r\n                            {it.notes && (\r\n                              <div style={{ color: '#6a708a', fontSize: 13 }}>Notes: {it.notes}</div>\r\n                            )}\r\n                          </div>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                  <div style={{ display: 'flex', gap: 16, marginTop: 8, color: '#2a2f43', flexWrap: 'wrap' }}>\r\n                    {o.paymentStatus && <div>Payment: <span style={{ color: '#ffb300', fontWeight: 600 }}>{o.paymentStatus}</span></div>}\r\n                    {o.clientName && <div>Client: <span style={{ fontWeight: 600 }}>{o.clientName}</span></div>}\r\n                    {o.clientPhone && <div>Phone: <span style={{ fontWeight: 600 }}>{o.clientPhone}</span></div>}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n        {!loading && filtered.length === 0 && (\r\n          <div style={{ padding: 12, color: '#6a708a' }}>No recent orders.</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}