{"ast":null,"code":"var _jsxFileName = \"C:\\\\Floki\\\\web-hotel\\\\src\\\\pages\\\\ReviewsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { HotelAPI } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReviewsPage() {\n  _s();\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    async function fetchReviews() {\n      setLoading(true);\n      setError('');\n      try {\n        const data = await HotelAPI.listReviews();\n        setReviews(Array.isArray(data) ? data : []);\n      } catch (e) {\n        setError(e.message || 'Failed to load reviews');\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchReviews();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 900,\n      margin: '0 auto',\n      padding: '1.5rem 0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: '#1a2236',\n        marginBottom: 24\n      },\n      children: \"Customer Ratings & Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#1a2236'\n      },\n      children: \"Loading reviews\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'crimson',\n        fontWeight: 600\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }, this), !loading && !error && reviews.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#8a8fa3',\n        fontSize: 16\n      },\n      children: \"No reviews yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: 24\n      },\n      children: reviews.map((r, i) => {\n        var _r$menuItem;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fff',\n            borderRadius: 12,\n            boxShadow: '0 2px 12px #0001',\n            padding: '1.25rem 1.5rem',\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 8,\n            borderLeft: `6px solid ${getRatingColor(r.rating)}`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 22,\n                fontWeight: 700,\n                color: getRatingColor(r.rating)\n              },\n              children: renderStars(r.rating)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#1a2236',\n                fontWeight: 600,\n                fontSize: 17\n              },\n              children: r.menuItemName || ((_r$menuItem = r.menuItem) === null || _r$menuItem === void 0 ? void 0 : _r$menuItem.name) || 'Menu Item'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#8a8fa3',\n                fontSize: 14,\n                marginLeft: 'auto'\n              },\n              children: formatDateTime(r.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), r.comment && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#2d3a58',\n              fontSize: 16\n            },\n            children: r.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#8a8fa3',\n              fontSize: 13\n            },\n            children: r.clientName ? `By ${r.clientName}` : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, r._id || i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(ReviewsPage, \"aSNzHXczKTdgaAwrvoV+V+TeOzg=\");\n_c = ReviewsPage;\nfunction renderStars(rating) {\n  const n = Math.round(Number(rating) || 0);\n  return '★'.repeat(n) + '☆'.repeat(5 - n);\n}\nfunction getRatingColor(rating) {\n  const n = Math.round(Number(rating) || 0);\n  if (n >= 5) return '#1a8f3c';\n  if (n >= 4) return '#4caf50';\n  if (n >= 3) return '#ffb300';\n  if (n >= 2) return '#ff7043';\n  return '#e53935';\n}\nfunction formatDateTime(iso) {\n  try {\n    const d = new Date(iso);\n    return d.toLocaleString();\n  } catch {\n    return iso;\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"ReviewsPage\");","map":{"version":3,"names":["React","useEffect","useState","HotelAPI","jsxDEV","_jsxDEV","ReviewsPage","_s","reviews","setReviews","loading","setLoading","error","setError","fetchReviews","data","listReviews","Array","isArray","e","message","style","maxWidth","margin","padding","children","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","length","fontSize","display","gap","map","r","i","_r$menuItem","background","borderRadius","boxShadow","flexDirection","borderLeft","getRatingColor","rating","alignItems","renderStars","menuItemName","menuItem","name","marginLeft","formatDateTime","createdAt","comment","clientName","_id","_c","n","Math","round","Number","repeat","iso","d","Date","toLocaleString","$RefreshReg$"],"sources":["C:/Floki/web-hotel/src/pages/ReviewsPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { HotelAPI } from '../api';\r\n\r\nexport default function ReviewsPage() {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function fetchReviews() {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const data = await HotelAPI.listReviews();\r\n        setReviews(Array.isArray(data) ? data : []);\r\n      } catch (e) {\r\n        setError(e.message || 'Failed to load reviews');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchReviews();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ maxWidth: 900, margin: '0 auto', padding: '1.5rem 0' }}>\r\n      <h2 style={{ color: '#1a2236', marginBottom: 24 }}>Customer Ratings & Reviews</h2>\r\n      {loading && <div style={{ color: '#1a2236' }}>Loading reviews…</div>}\r\n      {error && <div style={{ color: 'crimson', fontWeight: 600 }}>{error}</div>}\r\n      {!loading && !error && reviews.length === 0 && (\r\n        <div style={{ color: '#8a8fa3', fontSize: 16 }}>No reviews yet.</div>\r\n      )}\r\n      <div style={{ display: 'grid', gap: 24 }}>\r\n        {reviews.map((r, i) => (\r\n          <div key={r._id || i} style={{\r\n            background: '#fff',\r\n            borderRadius: 12,\r\n            boxShadow: '0 2px 12px #0001',\r\n            padding: '1.25rem 1.5rem',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 8,\r\n            borderLeft: `6px solid ${getRatingColor(r.rating)}`\r\n          }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n              <span style={{ fontSize: 22, fontWeight: 700, color: getRatingColor(r.rating) }}>{renderStars(r.rating)}</span>\r\n              <span style={{ color: '#1a2236', fontWeight: 600, fontSize: 17 }}>{r.menuItemName || r.menuItem?.name || 'Menu Item'}</span>\r\n              <span style={{ color: '#8a8fa3', fontSize: 14, marginLeft: 'auto' }}>{formatDateTime(r.createdAt)}</span>\r\n            </div>\r\n            {r.comment && <div style={{ color: '#2d3a58', fontSize: 16 }}>{r.comment}</div>}\r\n            <div style={{ color: '#8a8fa3', fontSize: 13 }}>\r\n              {r.clientName ? `By ${r.clientName}` : ''}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction renderStars(rating) {\r\n  const n = Math.round(Number(rating) || 0);\r\n  return '★'.repeat(n) + '☆'.repeat(5 - n);\r\n}\r\n\r\nfunction getRatingColor(rating) {\r\n  const n = Math.round(Number(rating) || 0);\r\n  if (n >= 5) return '#1a8f3c';\r\n  if (n >= 4) return '#4caf50';\r\n  if (n >= 3) return '#ffb300';\r\n  if (n >= 2) return '#ff7043';\r\n  return '#e53935';\r\n}\r\n\r\nfunction formatDateTime(iso) {\r\n  try {\r\n    const d = new Date(iso);\r\n    return d.toLocaleString();\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}